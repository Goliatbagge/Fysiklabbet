<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hastighet-tid-diagram - Fysiklabbet</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .formula-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            text-align: center;
            margin: 0.5rem 0;
        }
        .calc-step {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 0.75rem;
            margin: 0.5rem 0;
            border-radius: 0.25rem;
        }
        .highlight-value {
            background: #fef3c7;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-weight: bold;
            color: #92400e;
        }
    </style>
</head>
<body class="bg-gray-50">
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <span class="logo-icon">‚öõÔ∏è</span>
                <span class="logo-text">Fysiklabbet</span>
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Hem</a></li>
                <li><a href="fysik1.html" class="nav-link active">Fysik 1</a></li>
                <li><a href="fysik2.html" class="nav-link">Fysik 2</a></li>
                <li><a href="om.html" class="nav-link">Om</a></li>
                <li><a href="kontakt.html" class="nav-link">Kontakt</a></li>
            </ul>
        </div>
    </nav>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const VelocityTimeSimulation = () => {
            const [motionType, setMotionType] = useState('constant-acceleration'); // 'constant-velocity', 'constant-acceleration', 'variable-acceleration'
            const [v0, setV0] = useState(0); // Initial velocity (m/s)
            const [acceleration, setAcceleration] = useState(2); // Acceleration (m/s¬≤)
            const [showSlope, setShowSlope] = useState(false);
            const [showArea, setShowArea] = useState(false);
            const [areaStart, setAreaStart] = useState(0);
            const [areaEnd, setAreaEnd] = useState(5);
            const [maxTime, setMaxTime] = useState(10);
            const [tangentTime, setTangentTime] = useState(5); // Time for tangent point

            // Helper function to format numbers with comma as decimal separator (Swedish standard)
            const formatNumber = (num, decimals = 1) => {
                return num.toFixed(decimals).replace('.', ',');
            };

            // Calculate velocity at time t
            const getVelocity = (t) => {
                switch(motionType) {
                    case 'constant-velocity':
                        return v0;
                    case 'constant-acceleration':
                        return v0 + acceleration * t;
                    case 'variable-acceleration':
                        // Quadratic-like curve: v = v0 + 0.5*a*t¬≤
                        return v0 + 0.3 * acceleration * Math.pow(t, 1.5);
                    default:
                        return v0;
                }
            };

            // Calculate slope (acceleration)
            const getSlope = () => {
                switch(motionType) {
                    case 'constant-velocity':
                        return 0;
                    case 'constant-acceleration':
                        return acceleration;
                    case 'variable-acceleration':
                        // Average slope over interval
                        const t1 = 0;
                        const t2 = 5;
                        return (getVelocity(t2) - getVelocity(t1)) / (t2 - t1);
                    default:
                        return 0;
                }
            };

            // Calculate area (displacement) between areaStart and areaEnd
            const calculateArea = () => {
                const steps = 100;
                const dt = (areaEnd - areaStart) / steps;
                let displacement = 0; // F√∂rflyttning (kan vara negativ)
                let distance = 0; // Str√§cka (alltid positiv)
                let positiveArea = 0;
                let negativeArea = 0;

                // Numerical integration using trapezoidal rule
                for (let i = 0; i < steps; i++) {
                    const t1 = areaStart + i * dt;
                    const t2 = areaStart + (i + 1) * dt;
                    const v1 = getVelocity(t1);
                    const v2 = getVelocity(t2);
                    const areaSegment = (v1 + v2) * dt / 2;

                    displacement += areaSegment;
                    distance += Math.abs(areaSegment);

                    if (areaSegment > 0) {
                        positiveArea += areaSegment;
                    } else {
                        negativeArea += Math.abs(areaSegment);
                    }
                }

                return { displacement, distance, positiveArea, negativeArea };
            };

            // Calculate geometric area for simple cases
            const getGeometricCalculation = () => {
                if (motionType === 'constant-velocity') {
                    const width = areaEnd - areaStart;
                    const height = v0;
                    return {
                        type: 'rectangle',
                        width,
                        height,
                        area: width * height,
                        formula: `Area = bredd √ó h√∂jd = ${formatNumber(width)} s √ó ${formatNumber(height)} m/s`
                    };
                } else if (motionType === 'constant-acceleration') {
                    const width = areaEnd - areaStart;
                    const v1 = getVelocity(areaStart);
                    const v2 = getVelocity(areaEnd);

                    if (v1 === 0) {
                        // Pure triangle
                        return {
                            type: 'triangle',
                            width,
                            height: v2,
                            area: width * v2 / 2,
                            formula: `Area = (bas √ó h√∂jd) / 2 = (${formatNumber(width)} s √ó ${formatNumber(v2)} m/s) / 2`
                        };
                    } else if (v1 > 0) {
                        // Trapezoid = Rectangle + Triangle
                        const rectArea = width * v1;
                        const triangleArea = width * (v2 - v1) / 2;
                        return {
                            type: 'trapezoid',
                            width,
                            v1,
                            v2,
                            rectArea,
                            triangleArea,
                            area: rectArea + triangleArea,
                            formula: `Area = rektangel + triangel = (${formatNumber(width)} √ó ${formatNumber(v1)}) + (${formatNumber(width)} √ó ${formatNumber(v2-v1)}) / 2`
                        };
                    }
                }
                return null;
            };

            // SVG parameters
            const svgWidth = 700;
            const svgHeight = 400;
            const padding = 60;
            const graphWidth = svgWidth - 2 * padding;
            const graphHeight = svgHeight - 2 * padding;

            // Fixed scale for pedagogical clarity
            // This allows students to clearly see how slope changes with acceleration
            const FIXED_MAX_TIME = 20; // Always show 0-20 seconds
            const FIXED_MAX_V = 30; // Always show -30 to +30 m/s
            const FIXED_MIN_V = -30;

            const minV = FIXED_MIN_V;
            const maxV = FIXED_MAX_V;

            // Y-axis values with fixed step of 5 m/s
            const yStep = 5;
            const yAxisValues = [];
            for (let v = minV; v <= maxV; v += yStep) {
                yAxisValues.push(v);
            }

            // Scale functions with fixed ranges
            const scaleX = (t) => padding + (t / FIXED_MAX_TIME) * graphWidth;
            const scaleY = (v) => svgHeight - padding - ((v - minV) / (maxV - minV)) * graphHeight;

            // Generate path for graph
            const generatePath = () => {
                const points = [];
                const steps = 100;
                for (let i = 0; i <= steps; i++) {
                    const t = (i / steps) * FIXED_MAX_TIME;
                    const v = getVelocity(t);
                    points.push(`${scaleX(t)},${scaleY(v)}`);
                }
                return `M ${points.join(' L ')}`;
            };

            // Generate area polygon - separated into positive and negative parts
            const generateAreaPolygons = () => {
                const steps = 100;
                const positiveSegments = [];
                const negativeSegments = [];

                for (let i = 0; i < steps; i++) {
                    const t1 = areaStart + (i / steps) * (areaEnd - areaStart);
                    const t2 = areaStart + ((i + 1) / steps) * (areaEnd - areaStart);
                    const v1 = getVelocity(t1);
                    const v2 = getVelocity(t2);

                    // Check if this segment crosses the x-axis
                    if (v1 >= 0 && v2 >= 0) {
                        // Fully positive
                        positiveSegments.push([
                            `${scaleX(t1)},${scaleY(v1)}`,
                            `${scaleX(t2)},${scaleY(v2)}`,
                            `${scaleX(t2)},${scaleY(0)}`,
                            `${scaleX(t1)},${scaleY(0)}`
                        ].join(' '));
                    } else if (v1 <= 0 && v2 <= 0) {
                        // Fully negative
                        negativeSegments.push([
                            `${scaleX(t1)},${scaleY(v1)}`,
                            `${scaleX(t2)},${scaleY(v2)}`,
                            `${scaleX(t2)},${scaleY(0)}`,
                            `${scaleX(t1)},${scaleY(0)}`
                        ].join(' '));
                    }
                }

                return { positiveSegments, negativeSegments };
            };

            const slope = getSlope();
            const areaData = calculateArea();
            const geoCalc = getGeometricCalculation();
            const areaPolygons = generateAreaPolygons();

            return (
                <div className="min-h-screen bg-gray-50 py-8 px-4">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="text-center mb-8">
                            <h1 className="text-5xl font-bold text-gray-900 mb-4">Hastighet-tid-diagram</h1>
                            <p className="text-xl text-gray-600 max-w-3xl mx-auto">
                                Utforska hur hastighet f√∂r√§ndras √∂ver tid. L√§r dig tolka grafer, ber√§kna acceleration fr√•n lutning och str√§cka fr√•n area!
                            </p>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            {/* Main Graph Area */}
                            <div className="lg:col-span-2 space-y-6">
                                {/* Graph */}
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h2 className="text-2xl font-bold mb-4 text-gray-800">Hastighet-tid-graf</h2>
                                    <svg width={svgWidth} height={svgHeight} className="border-2 border-gray-200 rounded-lg bg-white">
                                        <defs>
                                            <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                                <polygon points="0 0, 10 3, 0 6" fill="#000" />
                                            </marker>
                                        </defs>

                                        {/* Grid lines */}
                                        {[...Array(21)].map((_, i) => (
                                            <line
                                                key={`grid-x-${i}`}
                                                x1={scaleX(i)}
                                                y1={padding}
                                                x2={scaleX(i)}
                                                y2={svgHeight - padding}
                                                stroke="#e5e7eb"
                                                strokeWidth="1"
                                            />
                                        ))}
                                        {yAxisValues.map((v, i) => (
                                            <line
                                                key={`grid-y-${i}`}
                                                x1={padding}
                                                y1={scaleY(v)}
                                                x2={svgWidth - padding}
                                                y2={scaleY(v)}
                                                stroke="#e5e7eb"
                                                strokeWidth="1"
                                            />
                                        ))}

                                        {/* Axes with arrows */}
                                        <line
                                            x1={padding}
                                            y1={scaleY(0)}
                                            x2={svgWidth - padding + 10}
                                            y2={scaleY(0)}
                                            stroke="#000"
                                            strokeWidth="2"
                                            markerEnd="url(#arrowhead)"
                                        />
                                        <line
                                            x1={padding}
                                            y1={svgHeight - padding}
                                            x2={padding}
                                            y2={padding - 10}
                                            stroke="#000"
                                            strokeWidth="2"
                                            markerEnd="url(#arrowhead)"
                                        />

                                        {/* Axis labels */}
                                        {[...Array(21)].map((_, i) => (
                                            <text
                                                key={`label-x-${i}`}
                                                x={scaleX(i)}
                                                y={scaleY(0) + 20}
                                                textAnchor="middle"
                                                fontSize="12"
                                                fill="#666"
                                            >
                                                {i}
                                            </text>
                                        ))}
                                        {yAxisValues.map((v, i) => (
                                            <text
                                                key={`label-y-${i}`}
                                                x={padding - 10}
                                                y={scaleY(v) + 5}
                                                textAnchor="end"
                                                fontSize="12"
                                                fill="#666"
                                            >
                                                {v}
                                            </text>
                                        ))}

                                        {/* Axis titles */}
                                        <text x={svgWidth / 2} y={svgHeight - 10} textAnchor="middle" fontSize="16" fontWeight="bold" fill="#333">
                                            Tid (s)
                                        </text>
                                        <text
                                            x={20}
                                            y={svgHeight / 2}
                                            textAnchor="middle"
                                            fontSize="16"
                                            fontWeight="bold"
                                            fill="#333"
                                            transform={`rotate(-90, 20, ${svgHeight / 2})`}
                                        >
                                            Hastighet (m/s)
                                        </text>

                                        {/* Area under curve - positive and negative parts */}
                                        {showArea && (
                                            <>
                                                {/* Positive area (green) */}
                                                {areaPolygons.positiveSegments.map((points, i) => (
                                                    <polygon
                                                        key={`pos-${i}`}
                                                        points={points}
                                                        fill="rgba(34, 197, 94, 0.3)"
                                                        stroke="rgb(34, 197, 94)"
                                                        strokeWidth="1"
                                                    />
                                                ))}
                                                {/* Negative area (red) */}
                                                {areaPolygons.negativeSegments.map((points, i) => (
                                                    <polygon
                                                        key={`neg-${i}`}
                                                        points={points}
                                                        fill="rgba(239, 68, 68, 0.3)"
                                                        stroke="rgb(239, 68, 68)"
                                                        strokeWidth="1"
                                                    />
                                                ))}
                                            </>
                                        )}

                                        {/* Main graph line */}
                                        <path
                                            d={generatePath()}
                                            fill="none"
                                            stroke="#ef4444"
                                            strokeWidth="3"
                                        />

                                        {/* Slope indicator */}
                                        {showSlope && motionType !== 'variable-acceleration' && (
                                            <>
                                                {/* Slope triangle */}
                                                <line
                                                    x1={scaleX(2)}
                                                    y1={scaleY(getVelocity(2))}
                                                    x2={scaleX(6)}
                                                    y2={scaleY(getVelocity(6))}
                                                    stroke="#10b981"
                                                    strokeWidth="2"
                                                    strokeDasharray="5,5"
                                                />
                                                <line
                                                    x1={scaleX(2)}
                                                    y1={scaleY(getVelocity(2))}
                                                    x2={scaleX(6)}
                                                    y2={scaleY(getVelocity(2))}
                                                    stroke="#10b981"
                                                    strokeWidth="2"
                                                />
                                                <line
                                                    x1={scaleX(6)}
                                                    y1={scaleY(getVelocity(2))}
                                                    x2={scaleX(6)}
                                                    y2={scaleY(getVelocity(6))}
                                                    stroke="#10b981"
                                                    strokeWidth="2"
                                                />
                                                <text
                                                    x={(scaleX(2) + scaleX(6)) / 2}
                                                    y={scaleY(getVelocity(2)) + 20}
                                                    textAnchor="middle"
                                                    fontSize="14"
                                                    fill="#10b981"
                                                    fontWeight="bold"
                                                >
                                                    Œît = 4 s
                                                </text>
                                                <text
                                                    x={scaleX(6) + 30}
                                                    y={(scaleY(getVelocity(2)) + scaleY(getVelocity(6))) / 2}
                                                    textAnchor="middle"
                                                    fontSize="14"
                                                    fill="#10b981"
                                                    fontWeight="bold"
                                                >
                                                    Œîv = {formatNumber(getVelocity(6) - getVelocity(2))} m/s
                                                </text>
                                            </>
                                        )}

                                        {/* Tangent line for variable acceleration */}
                                        {showSlope && motionType === 'variable-acceleration' && (
                                            <>
                                                {(() => {
                                                    const t = tangentTime;
                                                    const v = getVelocity(t);
                                                    // Calculate derivative for variable acceleration: v = v0 + 0.3*a*t^1.5
                                                    // dv/dt = 0.3*a*1.5*t^0.5 = 0.45*a*sqrt(t)
                                                    const a = 0.45 * acceleration * Math.sqrt(t);
                                                    // Extend tangent line across entire graph
                                                    const x1 = scaleX(0);
                                                    const y1 = scaleY(v - a * t);
                                                    const x2 = scaleX(20);
                                                    const y2 = scaleY(v + a * (20 - t));

                                                    return (
                                                        <>
                                                            <line
                                                                x1={x1}
                                                                y1={y1}
                                                                x2={x2}
                                                                y2={y2}
                                                                stroke="#2563eb"
                                                                strokeWidth="3"
                                                                strokeDasharray="8,4"
                                                            />
                                                            <circle
                                                                cx={scaleX(t)}
                                                                cy={scaleY(v)}
                                                                r="6"
                                                                fill="#2563eb"
                                                                stroke="#fff"
                                                                strokeWidth="2"
                                                            />
                                                            <text
                                                                x={scaleX(t) + 15}
                                                                y={scaleY(v) - 10}
                                                                fontSize="14"
                                                                fill="#2563eb"
                                                                fontWeight="bold"
                                                            >
                                                                Tangent vid t={t}s
                                                            </text>
                                                        </>
                                                    );
                                                })()}
                                            </>
                                        )}
                                    </svg>

                                    {/* Status display */}
                                    <div className="mt-4 p-4 bg-blue-50 rounded-lg border-2 border-blue-200">
                                        <h3 className="font-bold text-lg mb-2 text-blue-900">üìä Aktuell status vid t = {tangentTime} s:</h3>
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <span className="text-gray-600">Hastighet:</span>
                                                <span className="ml-2 font-bold text-xl text-blue-600">{formatNumber(getVelocity(tangentTime), 2)} m/s</span>
                                            </div>
                                            <div>
                                                <span className="text-gray-600">Acceleration:</span>
                                                <span className="ml-2 font-bold text-xl text-green-600">{formatNumber(motionType === 'variable-acceleration' ? 0.45 * acceleration * Math.sqrt(tangentTime) : slope, 2)} m/s¬≤</span>
                                            </div>
                                        </div>
                                        <p className="mt-2 text-sm text-gray-700">
                                            {slope > 0 && "üöÄ Objektet √∂kar sin hastighet (accelererar)"}
                                            {slope < 0 && "üõë Objektet minskar sin hastighet (retarderar/bromsar)"}
                                            {slope === 0 && "‚û°Ô∏è Objektet r√∂r sig med konstant hastighet"}
                                        </p>
                                    </div>
                                </div>

                                {/* Slope Analysis */}
                                {showSlope && (
                                    <div className="bg-green-50 rounded-xl shadow-lg p-6 border-2 border-green-200">
                                        <h2 className="text-2xl font-bold mb-4 text-green-900">üìê Lutningsanalys (Acceleration)</h2>
                                        <div className="formula-box bg-gradient-to-r from-green-500 to-emerald-600">
                                            a = Œîv / Œît = k-v√§rde
                                        </div>
                                        <div className="calc-step">
                                            <p className="font-semibold mb-2">Ber√§kning av lutning:</p>
                                            {motionType === 'constant-velocity' && (
                                                <p>Lutning = 0 (horisontell linje)<br/>
                                                <span className="highlight-value">Acceleration a = 0 m/s¬≤</span></p>
                                            )}
                                            {motionType === 'constant-acceleration' && (
                                                <>
                                                    <p>Lutning k = (v‚ÇÇ - v‚ÇÅ) / (t‚ÇÇ - t‚ÇÅ)</p>
                                                    <p>k = ({formatNumber(getVelocity(6))} - {formatNumber(getVelocity(2))}) / (6 - 2)</p>
                                                    <p>k = {formatNumber(getVelocity(6) - getVelocity(2))} / 4</p>
                                                    <p className="mt-2"><span className="highlight-value">Acceleration a = {formatNumber(slope, 2)} m/s¬≤</span></p>
                                                </>
                                            )}
                                            {motionType === 'variable-acceleration' && (
                                                <>
                                                    <p>F√∂r kurvig graf anv√§nder vi tangentens lutning vid t={tangentTime}s:</p>
                                                    <p className="mt-2"><span className="highlight-value">Momentanacceleration a({tangentTime}s) = {formatNumber(0.45 * acceleration * Math.sqrt(tangentTime), 2)} m/s¬≤</span></p>
                                                    <p className="text-sm text-gray-600 mt-2">(Acceleration varierar √∂ver tid)</p>
                                                </>
                                            )}
                                        </div>
                                        <div className="mt-4 p-4 bg-white rounded border-l-4 border-green-500">
                                            <p className="font-semibold text-green-900">üí° Fysikalisk tolkning:</p>
                                            <p className="text-gray-700">
                                                Lutningen p√• en v-t-graf visar <strong>accelerationen</strong>.
                                                {slope > 0 && " En positiv lutning betyder att hastigheten √∂kar."}
                                                {slope < 0 && " En negativ lutning betyder att hastigheten minskar (retardation)."}
                                                {slope === 0 && " Lutning = 0 betyder konstant hastighet."}
                                            </p>
                                        </div>
                                    </div>
                                )}

                                {/* Area Analysis */}
                                {showArea && (
                                    <div className="bg-blue-50 rounded-xl shadow-lg p-6 border-2 border-blue-200">
                                        <h2 className="text-2xl font-bold mb-4 text-blue-900">üìè Areaanalys: Str√§cka vs F√∂rflyttning</h2>

                                        {/* Visual legend */}
                                        <div className="mb-4 p-3 bg-white rounded-lg border border-gray-200">
                                            <p className="font-semibold mb-2 text-sm">F√§rgkodning:</p>
                                            <div className="flex gap-4 text-sm">
                                                <div className="flex items-center gap-2">
                                                    <div className="w-6 h-4 bg-green-500 bg-opacity-30 border border-green-500"></div>
                                                    <span>Positiv area (v &gt; 0)</span>
                                                </div>
                                                <div className="flex items-center gap-2">
                                                    <div className="w-6 h-4 bg-red-500 bg-opacity-30 border border-red-500"></div>
                                                    <span>Negativ area (v &lt; 0)</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="formula-box bg-gradient-to-r from-blue-500 to-cyan-600 mb-4">
                                            F√∂rflyttning = Positiv area - Negativ area
                                        </div>

                                        <div className="formula-box bg-gradient-to-r from-green-500 to-emerald-600">
                                            Str√§cka = Positiv area + Negativ area
                                        </div>

                                        {/* Results */}
                                        <div className="calc-step">
                                            <p className="font-semibold mb-3 text-lg">üìä Ber√§kningar (t = {areaStart} s till t = {areaEnd} s):</p>

                                            {areaData.positiveArea > 0 && (
                                                <p className="mb-1">
                                                    üü¢ Positiv area: <span className="font-mono font-bold text-green-700">{formatNumber(areaData.positiveArea, 2)} m</span>
                                                </p>
                                            )}

                                            {areaData.negativeArea > 0 && (
                                                <p className="mb-1">
                                                    üî¥ Negativ area: <span className="font-mono font-bold text-red-700">{formatNumber(areaData.negativeArea, 2)} m</span>
                                                </p>
                                            )}

                                            <div className="mt-4 pt-4 border-t-2 border-blue-300">
                                                <p className="text-lg mb-2">
                                                    <strong>F√∂rflyttning (displacement):</strong>
                                                </p>
                                                <p className="text-2xl mb-1">
                                                    <span className="highlight-value bg-blue-100">Œîx = {formatNumber(areaData.displacement, 2)} m</span>
                                                </p>
                                                <p className="text-sm text-gray-600 mb-4">
                                                    {areaData.displacement > 0 && "‚Üí Objektet har f√∂rflyttat sig fram√•t (positivt)"}
                                                    {areaData.displacement < 0 && "‚Üê Objektet har f√∂rflyttat sig bak√•t (negativt)"}
                                                    {areaData.displacement === 0 && "‚óã Objektet √§r tillbaka vid startpunkten"}
                                                </p>

                                                <p className="text-lg mb-2">
                                                    <strong>Str√§cka (distance):</strong>
                                                </p>
                                                <p className="text-2xl">
                                                    <span className="highlight-value bg-green-100">s = {formatNumber(areaData.distance, 2)} m</span>
                                                </p>
                                                <p className="text-sm text-gray-600">
                                                    ‚Üî Total l√§ngd objektet har r√∂rt sig (alltid positivt)
                                                </p>
                                            </div>
                                        </div>

                                        <div className="mt-4 p-4 bg-white rounded border-l-4 border-blue-500">
                                            <p className="font-semibold text-blue-900 mb-2">üí° Viktigt att f√∂rst√•:</p>
                                            <ul className="text-sm text-gray-700 space-y-1 list-disc pl-5">
                                                <li><strong>F√∂rflyttning</strong> √§r vektorstorhet (kan vara positiv, negativ eller noll)</li>
                                                <li><strong>Str√§cka</strong> √§r skal√§r storhet (alltid positiv eller noll)</li>
                                                <li>N√§r v &lt; 0 r√§knas arean som negativ f√∂r f√∂rflyttning</li>
                                                <li>F√∂r str√§cka r√§knas all area som positiv (absolutbelopp)</li>
                                                {areaData.displacement !== areaData.distance && (
                                                    <li className="font-bold text-blue-800">‚ö†Ô∏è Notera: F√∂rflyttning ‚â† Str√§cka i detta fall!</li>
                                                )}
                                            </ul>
                                        </div>
                                    </div>
                                )}
                            </div>

                            {/* Controls */}
                            <div className="space-y-6">
                                {/* Motion Type */}
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h3 className="text-xl font-bold mb-4 text-gray-800">üéØ Typ av r√∂relse</h3>
                                    <div className="space-y-3">
                                        <label className={`flex items-center p-3 rounded-lg border-2 cursor-pointer transition ${motionType === 'constant-velocity' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}>
                                            <input
                                                type="radio"
                                                name="motionType"
                                                value="constant-velocity"
                                                checked={motionType === 'constant-velocity'}
                                                onChange={(e) => setMotionType(e.target.value)}
                                                className="w-5 h-5"
                                            />
                                            <span className="ml-3 font-medium">Konstant hastighet</span>
                                        </label>
                                        <label className={`flex items-center p-3 rounded-lg border-2 cursor-pointer transition ${motionType === 'constant-acceleration' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}>
                                            <input
                                                type="radio"
                                                name="motionType"
                                                value="constant-acceleration"
                                                checked={motionType === 'constant-acceleration'}
                                                onChange={(e) => setMotionType(e.target.value)}
                                                className="w-5 h-5"
                                            />
                                            <span className="ml-3 font-medium">Konstant acceleration</span>
                                        </label>
                                        <label className={`flex items-center p-3 rounded-lg border-2 cursor-pointer transition ${motionType === 'variable-acceleration' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'}`}>
                                            <input
                                                type="radio"
                                                name="motionType"
                                                value="variable-acceleration"
                                                checked={motionType === 'variable-acceleration'}
                                                onChange={(e) => setMotionType(e.target.value)}
                                                className="w-5 h-5"
                                            />
                                            <span className="ml-3 font-medium">Varierande acceleration</span>
                                        </label>
                                    </div>
                                </div>

                                {/* Parameters */}
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h3 className="text-xl font-bold mb-4 text-gray-800">‚öôÔ∏è Parametrar</h3>

                                    {/* Initial velocity */}
                                    <div className="mb-6">
                                        <div className="flex justify-between items-center mb-2">
                                            <label className="font-semibold text-gray-700">Starthastighet (v‚ÇÄ)</label>
                                            <span className="text-lg font-bold text-blue-600">{v0} m/s</span>
                                        </div>
                                        <input
                                            type="range"
                                            min="-10"
                                            max="20"
                                            step="1"
                                            value={v0}
                                            onChange={(e) => setV0(parseFloat(e.target.value))}
                                            className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                        />
                                        <div className="flex justify-between text-xs text-gray-500 mt-1">
                                            <span>-10 m/s</span>
                                            <span>20 m/s</span>
                                        </div>
                                    </div>

                                    {/* Acceleration */}
                                    {motionType !== 'constant-velocity' && (
                                        <div className="mb-6">
                                            <div className="flex justify-between items-center mb-2">
                                                <label className="font-semibold text-gray-700">Acceleration (a)</label>
                                                <span className="text-lg font-bold text-green-600">{acceleration} m/s¬≤</span>
                                            </div>
                                            <input
                                                type="range"
                                                min="-5"
                                                max="5"
                                                step="0.1"
                                                value={acceleration}
                                                onChange={(e) => setAcceleration(parseFloat(e.target.value))}
                                                className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                            />
                                            <div className="flex justify-between text-xs text-gray-500 mt-1">
                                                <span>-5 m/s¬≤</span>
                                                <span>5 m/s¬≤</span>
                                            </div>
                                        </div>
                                    )}

                                </div>

                                {/* Display options */}
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h3 className="text-xl font-bold mb-4 text-gray-800">üëÅÔ∏è Visningsalternativ</h3>

                                    <label className="flex items-center mb-4 cursor-pointer">
                                        <input
                                            type="checkbox"
                                            checked={showSlope}
                                            onChange={(e) => setShowSlope(e.target.checked)}
                                            className="w-5 h-5 text-green-600"
                                        />
                                        <span className="ml-3 font-medium">Visa lutning (acceleration)</span>
                                    </label>

                                    {/* Tangent time slider */}
                                    {showSlope && (
                                        <div className="mt-4 mb-6 p-4 bg-green-50 rounded-lg border border-green-200">
                                            <div className="flex justify-between items-center mb-2">
                                                <label className="text-sm font-medium text-green-900">Tangeringspunkt</label>
                                                <span className="font-bold text-green-700">t = {tangentTime} s</span>
                                            </div>
                                            <input
                                                type="range"
                                                min="0"
                                                max="20"
                                                step="0.5"
                                                value={tangentTime}
                                                onChange={(e) => setTangentTime(parseFloat(e.target.value))}
                                                className="w-full h-2 bg-green-200 rounded-lg appearance-none cursor-pointer"
                                            />
                                            <div className="flex justify-between text-xs text-gray-500 mt-1">
                                                <span>0 s</span>
                                                <span>20 s</span>
                                            </div>
                                        </div>
                                    )}

                                    <label className="flex items-center mb-4 cursor-pointer">
                                        <input
                                            type="checkbox"
                                            checked={showArea}
                                            onChange={(e) => setShowArea(e.target.checked)}
                                            className="w-5 h-5 text-blue-600"
                                        />
                                        <span className="ml-3 font-medium">Visa area (str√§cka/f√∂rflyttning)</span>
                                    </label>

                                    {showArea && (
                                        <div className="mt-4 p-4 bg-blue-50 rounded-lg">
                                            <p className="font-semibold mb-3 text-blue-900">Tidsintervall f√∂r area:</p>

                                            <div className="mb-4">
                                                <div className="flex justify-between items-center mb-2">
                                                    <label className="text-sm font-medium">Starttid</label>
                                                    <span className="font-bold text-blue-600">{areaStart} s</span>
                                                </div>
                                                <input
                                                    type="range"
                                                    min="0"
                                                    max="19"
                                                    step="0.5"
                                                    value={areaStart}
                                                    onChange={(e) => {
                                                        const val = parseFloat(e.target.value);
                                                        setAreaStart(val);
                                                        if (val >= areaEnd) setAreaEnd(val + 1);
                                                    }}
                                                    className="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"
                                                />
                                            </div>

                                            <div>
                                                <div className="flex justify-between items-center mb-2">
                                                    <label className="text-sm font-medium">Sluttid</label>
                                                    <span className="font-bold text-blue-600">{areaEnd} s</span>
                                                </div>
                                                <input
                                                    type="range"
                                                    min={areaStart + 0.5}
                                                    max="20"
                                                    step="0.5"
                                                    value={areaEnd}
                                                    onChange={(e) => setAreaEnd(parseFloat(e.target.value))}
                                                    className="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"
                                                />
                                            </div>
                                        </div>
                                    )}
                                </div>

                                {/* Formulas */}
                                <div className="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl shadow-lg p-6 border-2 border-purple-200">
                                    <h3 className="text-xl font-bold mb-4 text-purple-900">üìö Formelsamling</h3>
                                    <div className="space-y-3 text-sm">
                                        <div className="bg-white p-3 rounded shadow">
                                            <p className="font-bold text-purple-800">Hastighet vid konstant acceleration:</p>
                                            <p className="font-mono mt-1">v(t) = v‚ÇÄ + a¬∑t</p>
                                            <p className="text-xs text-gray-600 mt-1">v‚ÇÄ = {v0} m/s, a = {acceleration} m/s¬≤</p>
                                        </div>
                                        <div className="bg-white p-3 rounded shadow">
                                            <p className="font-bold text-purple-800">Acceleration fr√•n lutning:</p>
                                            <p className="font-mono mt-1">a = Œîv / Œît</p>
                                        </div>
                                        <div className="bg-white p-3 rounded shadow">
                                            <p className="font-bold text-purple-800">Str√§cka fr√•n area:</p>
                                            <p className="font-mono mt-1">s = ‚à´ v(t) dt</p>
                                            <p className="text-xs text-gray-600 mt-1">Area under kurvan</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Info box */}
                                <div className="bg-amber-50 rounded-xl shadow-lg p-6 border-2 border-amber-200">
                                    <h3 className="text-xl font-bold mb-3 text-amber-900">üí° Kom ih√•g!</h3>
                                    <ul className="space-y-2 text-sm text-amber-900">
                                        <li>‚úì <strong>Lutning</strong> p√• v-t-graf = <strong>Acceleration</strong></li>
                                        <li>‚úì <strong>Area</strong> under v-t-graf = <strong>Str√§cka eller F√∂rflyttning</strong></li>
                                        <li>‚úì <strong>F√∂rflyttning</strong>: Positiv area - Negativ area (kan vara negativ)</li>
                                        <li>‚úì <strong>Str√§cka</strong>: Total area (alltid positiv)</li>
                                        <li>‚úì Horisontell linje = konstant hastighet</li>
                                        <li>‚úì R√§t linje med lutning = konstant acceleration</li>
                                        <li>‚úì Kurva = varierande acceleration</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<VelocityTimeSimulation />, document.getElementById('root'));
    </script>
</body>
</html>
